<!DOCTYPE html>
<html lang="en">
<head>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PDJVZZZ6');</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketing Tools | John</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
</head>
<body>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PDJVZZZ6"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <header>
        <div class="container">
            <nav>
                <a href="index.html" class="logo">John.Dev</a>
                <div class="nav-links">
                    <a href="index.html">About</a>
                    <a href="index.html#stack">Tech Stack</a>
                    <a href="tools.html" class="active" style="color: var(--primary);">Tools</a>
                </div>
            </nav>
        </div>
    </header>

    <div class="container" style="padding-top: 120px; padding-bottom: 40px; text-align: center;">
        <h1>Marketing <span style="color: var(--primary);">Utility Belt</span></h1>
        <p style="color: var(--text-muted);">Automation tools to speed up daily workflows.</p>
    </div>

    <section class="section-padding" style="padding-top: 20px;">
        <div class="container">
            <div class="tool-wrapper">
                <div class="tool-header">
                    <span style="color: var(--primary); font-weight:bold; letter-spacing: 1px; font-size:0.8rem;">TRACKING</span>
                    <h2>UTM Campaign Builder</h2>
                    <p>Standardize your tracking parameters instantly. Matches Google's specifications.</p>
                </div>

                <form id="utmForm">
                    <div class="form-group full-width">
                        <label>Website URL *</label>
                        <input type="url" id="baseUrl" placeholder="https://www.yourdomain.com" required>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label>Campaign ID (utm_id)</label>
                            <input type="text" id="utmId" placeholder="e.g. abc.123">
                        </div>
                        <div class="form-group">
                            <label>Campaign Name (utm_campaign) *</label>
                            <input type="text" id="utmCampaign" placeholder="e.g. summer_sale" required>
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label>Campaign Source (utm_source) *</label>
                            <input type="text" id="utmSource" placeholder="e.g. google, newsletter" required>
                        </div>
                        <div class="form-group">
                            <label>Campaign Medium (utm_medium) *</label>
                            <input type="text" id="utmMedium" placeholder="e.g. cpc, email" required>
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label>Campaign Term (utm_term)</label>
                            <input type="text" id="utmTerm" placeholder="Identify the paid keywords">
                        </div>
                        <div class="form-group">
                            <label>Campaign Content (utm_content)</label>
                            <input type="text" id="utmContent" placeholder="Use to differentiate ads">
                        </div>
                    </div>
                </form>

                <div class="result-box">
                    <div id="finalUrl" class="generated-url">Fill in the fields to generate URL...</div>
                    <button class="copy-btn" onclick="copyToClipboard()" title="Copy to Clipboard">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <section class="section-padding" style="padding-top: 0;">
        <div class="container">
            <div class="tool-wrapper" style="border-color: #3B82F6;">
                <div class="tool-header">
                    <span style="color: var(--primary); font-weight:bold; letter-spacing: 1px; font-size:0.8rem;">STRATEGY</span>
                    <h2>Break-Even ROAS Calculator</h2>
                    <p>Calculate the minimum Return On Ad Spend needed to be profitable.</p>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label>Product Price / AOV (€)</label>
                        <input type="number" id="productPrice" placeholder="e.g. 50" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>Product Cost / COGS (€)</label>
                        <input type="number" id="productCost" placeholder="e.g. 20" step="0.01">
                    </div>
                </div>

                <div class="stack-grid" style="margin-top: 20px;">
                    <div class="card" style="padding: 20px; text-align: center; border-color: var(--border);">
                        <p style="color: var(--text-muted); font-size: 0.9rem;">Profit Margin</p>
                        <h3 id="marginResult" style="color: var(--primary); font-size: 1.5rem; margin: 5px 0;">0%</h3>
                    </div>
                    
                    <div class="card" style="padding: 20px; text-align: center; border-color: var(--border);">
                        <p style="color: var(--text-muted); font-size: 0.9rem;">Break-Even ROAS</p>
                        <h3 id="roasResult" style="color: #F59E0B; font-size: 1.5rem; margin: 5px 0;">0.00</h3>
                    </div>

                    <div class="card" style="padding: 20px; text-align: center; border-color: var(--border);">
                        <p style="color: var(--text-muted); font-size: 0.9rem;">Max CPA (Break-Even)</p>
                        <h3 id="cpaResult" style="color: var(--success); font-size: 1.5rem; margin: 5px 0;">€0.00</h3>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 John. Built with custom code.</p>
        </div>
    </footer>

    <script>
        // --- UTM BUILDER LOGIC ---
        const utmInputs = document.querySelectorAll('#utmForm input');
        const display = document.getElementById('finalUrl');

        function generateURL() {
            const urlVal = document.getElementById('baseUrl').value.trim();
            const source = document.getElementById('utmSource').value.trim();
            const medium = document.getElementById('utmMedium').value.trim();
            const campaign = document.getElementById('utmCampaign').value.trim();
            const id = document.getElementById('utmId').value.trim();
            const term = document.getElementById('utmTerm').value.trim();
            const content = document.getElementById('utmContent').value.trim();

            if (!urlVal) {
                display.style.color = '#94A3B8';
                display.textContent = 'Enter a valid Website URL to start...';
                return;
            }

            try {
                let finalBase = urlVal;
                if (!/^https?:\/\//i.test(finalBase)) {
                    finalBase = 'https://' + finalBase;
                }
                const urlObj = new URL(finalBase);
                
                if (source) urlObj.searchParams.set('utm_source', source);
                if (medium) urlObj.searchParams.set('utm_medium', medium);
                if (campaign) urlObj.searchParams.set('utm_campaign', campaign);
                if (id) urlObj.searchParams.set('utm_id', id);
                if (term) urlObj.searchParams.set('utm_term', term);
                if (content) urlObj.searchParams.set('utm_content', content);

                display.style.color = '#10B981';
                display.textContent = urlObj.toString();
            } catch (e) {
                display.textContent = 'Invalid URL format';
            }
        }

        utmInputs.forEach(input => input.addEventListener('input', generateURL));

        function copyToClipboard() {
            const textToCopy = display.textContent;
            if (textToCopy.startsWith('http')) {
                navigator.clipboard.writeText(textToCopy).then(() => {
                    alert("URL Copied!");
                });
            }
        }

        // --- ROAS CALCULATOR LOGIC ---
        const priceInput = document.getElementById('productPrice');
        const costInput = document.getElementById('productCost');
        const marginDisplay = document.getElementById('marginResult');
        const roasDisplay = document.getElementById('roasResult');
        const cpaDisplay = document.getElementById('cpaResult');

        function calculateROAS() {
            const price = parseFloat(priceInput.value) || 0;
            const cost = parseFloat(costInput.value) || 0;

            if (price > 0) {
                const profit = price - cost;
                const margin = (profit / price) * 100;
                let breakEvenROAS = 0;
                if (margin > 0) {
                    breakEvenROAS = 1 / (margin / 100);
                }
                const maxCPA = profit;

                marginDisplay.textContent = margin.toFixed(1) + '%';
                roasDisplay.textContent = breakEvenROAS.toFixed(2) + 'x';
                cpaDisplay.textContent = '€' + maxCPA.toFixed(2);
                marginDisplay.style.color = margin < 0 ? '#EF4444' : '#3B82F6';
            } else {
                marginDisplay.textContent = '0%';
                roasDisplay.textContent = '0.00';
                cpaDisplay.textContent = '€0.00';
            }
        }

        priceInput.addEventListener('input', calculateROAS);
        costInput.addEventListener('input', calculateROAS);
    </script>
</body>
</html>

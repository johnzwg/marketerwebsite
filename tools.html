<div class="stack-header" style="margin-top: 80px;">
    <h2>UTM Builder Tool</h2>
</div>

<div class="tech-card" style="max-width: 800px;">
    <p style="color: #94a3b8; margin-bottom: 20px;">
        Generate trackable URLs for your campaigns instantly.
    </p>

    <style>
        .input-group {
            margin-bottom: 15px;
        }
        .input-group label {
            display: block;
            color: #e2e8f0;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        .input-group input {
            width: 100%;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #334155;
            background-color: #0f172a; /* Dark background for inputs */
            color: #f8fafc;
            outline: none;
        }
        .input-group input:focus {
            border-color: #60a5fa; /* Blue border on focus */
        }
        .result-box {
            background-color: #0f172a;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #334155;
            color: #60a5fa;
            font-family: monospace;
            word-break: break-all;
            margin-top: 20px;
            display: none; /* Hidden by default */
        }
        .btn-generate {
            background-color: #60a5fa;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 10px;
            transition: background 0.3s;
        }
        .btn-generate:hover {
            background-color: #3b82f6;
        }
        .copy-btn {
            background-color: transparent;
            border: 1px solid #60a5fa;
            color: #60a5fa;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            margin-top: 10px;
        }
        .copy-btn:hover {
            background-color: #60a5fa;
            color: white;
        }
    </style>

    <form id="utmForm">
        <div class="input-group">
            <label>Website URL *</label>
            <input type="url" id="baseUrl" placeholder="https://www.example.com" required>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
            <div class="input-group">
                <label>Campaign Source *</label>
                <input type="text" id="utmSource" placeholder="google, facebook, newsletter" required>
            </div>
            <div class="input-group">
                <label>Campaign Medium *</label>
                <input type="text" id="utmMedium" placeholder="cpc, banner, email" required>
            </div>
        </div>

        <div class="input-group">
            <label>Campaign Name</label>
            <input type="text" id="utmCampaign" placeholder="summer_sale">
        </div>

        <button type="button" onclick="generateUTM()" class="btn-generate">Generate URL</button>
    </form>

    <div id="resultContainer" class="result-box">
        <p id="finalUrl">Your URL will appear here...</p>
        <button onclick="copyToClipboard()" class="copy-btn">Copy URL</button>
    </div>
</div>

<script>
    function generateUTM() {
        const baseUrl = document.getElementById('baseUrl').value.trim();
        const source = document.getElementById('utmSource').value.trim();
        const medium = document.getElementById('utmMedium').value.trim();
        const campaign = document.getElementById('utmCampaign').value.trim();

        if (!baseUrl || !source || !medium) {
            alert("Please fill in the required fields (URL, Source, Medium)");
            return;
        }

        // Build the URL
        let url = new URL(baseUrl);
        url.searchParams.set('utm_source', source);
        url.searchParams.set('utm_medium', medium);
        if (campaign) url.searchParams.set('utm_campaign', campaign);

        // Display Result
        const finalUrl = url.toString();
        document.getElementById('finalUrl').textContent = finalUrl;
        document.getElementById('resultContainer').style.display = 'block';
    }

    function copyToClipboard() {
        const urlText = document.getElementById('finalUrl').textContent;
        navigator.clipboard.writeText(urlText).then(() => {
            alert("URL Copied!");
        });
    }
</script>
